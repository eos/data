likelihoods:
  - name: bsk-lcsr
    constraints:
      - B_s->K::form-factors[f_+,f_0,f_T]@BvDV:2023A;form-factors=BFW2010

  - name: bsk-lqcd
    constraints:
      - B_s->K::f_++f_0@RBC+UKQCD:2023A;form-factors=BFW2010
      - B_s->K::f_++f_0@HPQCD:2014A;form-factors=BFW2010
  
  - name: bsds
    constraints:
      - B_s->D_s::f_++f_0@HPQCD:2019A;form-factors=BSZ2015

  - name: bounds
    manual_constraints:
      'b->u::MesonicBound[0^+_V]':
        type: UniformBound
        observables:
            - 'B_s->K::Saturation[0^+_V]'
        kinematics: [ {} ]
        options: [ {} ]
        bound: 1.0
        uncertainty: 0.1
      'b->u::MesonicBound[1^-_V]':
        type: UniformBound
        observables:
            - 'B_s->K::Saturation[1^-_V]'
        kinematics: [ {} ]
        options: [ {} ]
        bound: 1.0
        uncertainty: 0.1
      'b->u::MesonicBound[1^-_T]':
        type: UniformBound
        observables:
            - 'B_s->K::Saturation[1^-_T]'
        kinematics: [ {} ]
        options: [ {} ]
        bound: 1.0
        uncertainty: 0.1


priors:
  - name: k-bfw-fpfz
    parameters:
      - parameter: B_s->K::a^f+_0@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^f+_1@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^f+_2@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^f+_3@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^f+_4@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^f0_1@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^f0_2@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^f0_3@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^f0_4@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
  - name: k-bfw-fT
    parameters:
      - parameter: B_s->K::a^fT_0@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^fT_1@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^fT_2@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^fT_3@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform
      - parameter: B_s->K::a^fT_4@BFW2010
        min:  -1.0
        max:  +1.0
        type: uniform

  - name: ds-bsz
    parameters:
      - parameter: B_s->D_s::alpha^f+_0@BSZ2015
        min:   0.0
        max:  +1.0
        type: uniform
      - parameter: B_s->D_s::alpha^f+_1@BSZ2015
        min:  -4.0
        max:  -1.0
        type: uniform
      - parameter: B_s->D_s::alpha^f+_2@BSZ2015
        min:  +4.0
        max:  +6.0
        type: uniform
      - parameter: B_s->D_s::alpha^f0_1@BSZ2015
        min:  -1.0
        max:  +2.0
        type: uniform
      - parameter: B_s->D_s::alpha^f0_2@BSZ2015
        min:  -2.0
        max:   0.0
        type: uniform

posteriors:
  - name: bs-k-ds-lnu-lcsr-lqcd
    global_options:
        model: CKM
    fixed_parameters:
      'CKM::abs(V_ub)': 1.0
      'CKM::abs(V_cb)': 1.0
    likelihood:
      - bounds
      - bsds
      - bsk-lcsr
      - bsk-lqcd
    prior:
      - k-bfw-fpfz
      - k-bfw-fT
      - ds-bsz

  - name: bs-k-ds-lnu-lcsr
    global_options:
        model: CKM
    fixed_parameters:
      'CKM::abs(V_ub)': 1.0
      'CKM::abs(V_cb)': 1.0
    likelihood:
      - bounds
      - bsds
      - bsk-lcsr
    prior:
      - k-bfw-fpfz
      - k-bfw-fT
      - ds-bsz

  - name: bs-k-ds-lnu-lqcd
    global_options:
        model: CKM
    fixed_parameters:
      'CKM::abs(V_ub)': 1.0
      'CKM::abs(V_cb)': 1.0
    likelihood:
      - bounds
      - bsds
      - bsk-lqcd
    prior:
      - k-bfw-fpfz
      - k-bfw-fT
      - ds-bsz

observables:
  Ratio-Sqrt-FF::Dslnu-Klnu:
    latex: '$R_\text{FF}$'
    unit: '1'
    options: {}
    expression: >
      <<B_s->D_slnu::normBR>>[q2_min=0.0,q2_max=11.55]
      /
      <<B_s->Klnu::normBR>>[q2_min=>q2_min_K,q2_max=>q2_max_K]

predictions:
  - name: FF-lowhigh
    global_options:
        l: mu
    observables:
      - name: Ratio-Sqrt-FF::Dslnu-Klnu
        kinematics: { 'q2_min_K': 0.0 , 'q2_max_K': 7.0}
      - name: Ratio-Sqrt-FF::Dslnu-Klnu
        kinematics: { 'q2_min_K': 7.0 , 'q2_max_K': 25.0}
      - name: B_s->Klnu::normBR
        kinematics: { 'q2_min': 0.0 , 'q2_max': 7.0}
      - name: B_s->Klnu::normBR
        kinematics: { 'q2_min': 7.0 , 'q2_max': 25.0}
      - name: B_s->D_slnu::normBR
        kinematics: { 'q2_min': 0.0 , 'q2_max': 25.0}

  - name: FF-full
    global_options:
        l: mu
    observables:
      - name: Ratio-Sqrt-FF::Dslnu-Klnu
        kinematics: { 'q2_min_K': 0.0 , 'q2_max_K': 25.0}
      - name: B_s->Klnu::normBR
        kinematics: { 'q2_min': 0.0 , 'q2_max': 25.0}